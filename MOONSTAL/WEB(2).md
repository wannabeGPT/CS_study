# WEB(2)

## 인증 방식

### ****동작방식****

- API Key 발급
- API를 사용하기 위해 Key와 함께 요청
- Key 통해 User정보 확인하여 권한 확인
- Key의 인증과 인가에 따라 데이터를 사용자에게 반환

### ****문제점****

- Key가 유출된 경우 보안문제가 발생하기 쉬움

---

### ****OAuth2****

- API Key의 단점을 메꿈
- 요청하고 요청받는 단순한 방식이 아니라 인증하는 부분이 추가

### ****동작방식****

- 사용자가 Application의 기능을 사용하기 위한 요청
- 로그인이 되어 있는지를 확인
- 사용자를 인증서버로 Redirection
- 인증서버는 해당 사용자가 회원인지 그리고 인증서버에 로그인 되어있는지를 확인
- 사용자가 최초의 요청에 대한 권한이 있는지를 확인(Grant:자신의 인증정보 Application에 넘길지 말지 결정하는 과정)
- 사용자는 해당 인증정보에 대한 허가
- 다시 인증서버에 인가 처리를 위해 요청
- Application에게 인가코드를 전달
- 인증서버는 해당 인가코드를 자신의 저장소에 저장
- Application은 해당 코드를 Request Token으로 사용하여 인증서버에 요청
- 인증서버는 코드와 일치하지 확인하고 Access Token을 Application에게 전달
- Application은 Access Token을 통해 업무를 처리

### ****문제점****

- Token은 무의미한 문자열을  규칙없이 발행되기 때문에 증명확인 필요
- 인증서버에 어떤 식이든 DBMS 접근이든 다른 API를 활용하여 접근하는 등의 유효성 확인 작업이 필요
- 유효기간 문제

---

### ****JWT****

- JWT는 인증여부 확인을 위한 값, 유효성 검증을 위한 값 그리고 인증 정보 자체를 담고 있기 때문에 인증서버에 묻지 않고 사용(↔Access Token은 의미가 없는 문자열)

### ****문제점****

- 토큰 자체가 인증 정보를 가지고 있기때문에 민감한 정보는 인증서버에 다시 접속하는 과정이 필요

[https://gyoogle.dev/blog/web-knowledge/인증방식.html](https://gyoogle.dev/blog/web-knowledge/%EC%9D%B8%EC%A6%9D%EB%B0%A9%EC%8B%9D.html)

## 로깅 레벨(Logging Level)

### ****로깅****

- 시스템의 작동 상태의 기록과 보존, 이용자의 습성 조사 및 시스템 동작의 분석 등을 하기 위해 작동중의 각종 정보를 기록
- System.out.println: 상황별 구분 불가, 저장불가, 대량로그 시스템 성능문제
- Logging framework: Log4J, Logback, SLF4J

### **SLF4J**

- Logging Framework들을 추상화 해놓은 것
- Facade Pattern을 이용
- Facade Pattern: 서브시스템을 거대한 클래스로 만들어 감싸서 편리한 인터페이스를 제공
- 바인딩 모듈(로깅 프레임워크 연결)을 통해 처리

### **Log Level**

- FATAL : 아주 심각한 에러가 발생한 상태
- ERROR : 어떠한 요청을 처리하는 중 문제가 발생한 상태 프로그램 동작에 큰 문제가 발생했다는 것으로 즉시 문제를 조사해야 하는 것 (DB를 사용할 수 없는 상태, 중요 에러가 나오는 상황)
- WARN : 프로그램의 실행에는 문제가 없지만, 향후 시스템 에러의 원인이 될 수 있는 경고성 메시지
    - WARN에서도 2가지의 부분에선 종료가 일어남
        - 명확한 문제 : 현재 데이터를 사용 불가, 캐시값 사용 등
        - 잠재적 문제 : 개발 모드로 프로그램 시작, 관리자 콘솔 비밀번호가 보호되지 않고 접속 등
- INFO : 어떠한 상태 변경과 같은 정보성 메시지를 나타낸다.
- DEBUG : 개발시 디버그 용도로 사용하는 메시지를 나타낸다.
- TRACE : 디버그 레벨이 너무 광범위한 것을 해결하기 위해서 좀 더 상세한 이벤트를 나타낸다.

[https://moonstal.tistory.com/152](https://moonstal.tistory.com/152)

[https://pig-programming.tistory.com/51](https://pig-programming.tistory.com/51)

## UI / UX

### ****UI(****User Interface)

사용자가 앱을 사용할 때 마주하는 디자인(폰트, 색깔), 레이아웃, 기술적인 부분(반응형이나 애니메이션)

### ****UX(****User Experience)

사용자들의 경험을 분석하여 더 편하고 효율적인 방향으로 프로세스가 진행될 수 있도록 만드는 것)터치 화면, 사용자의 선택 flow)

[https://gyoogle.dev/blog/web-knowledge/UI와 UX.html](https://gyoogle.dev/blog/web-knowledge/UI%EC%99%80%20UX.html)

## CSR & SSR

### CSR(**C**lient **S**ide **R**endering)

사용자의 요청에 따라 필요한 부분만 응답 받아 렌더링 하는 방식

- 클라이언트에서 초기화면을 로드하기 위해 서버에 요청
- 서버는 화면에 표시하는 데 필요한 완전한 리소스의 응답

### 장점

- 변경된 부분과 관련된 데이터만 가져오므로 서버사이드 랜더링 보다 빠른 속도
- 변경된 부분만 요청함으로써 서버의 부담을 줄일 수 있습니다.
- 새로고침 없어서 사용자 친화적 이라는 장점

### 단점

- 모든 js 파일을 다운받아 하기 때문에 **초기 로딩 시간의 더 오래 걸린다**
- seo 불리(웹 크롤러 가 페이지를 색인화 하려고 하면 빈 페이지로 보임)

### **SPA(Single Page Applictaion)**

> 최초 한 번 페이지 전체를 로딩한 뒤, 데이터만 변경하여 사용할 수 있는 애플리케이션
> 

### ****SSR(Server Side Rendering)****

완전하게 만들어진 html파일을 받아와 페이지 전체를 렌더링 하는 방식

### 장점

- 서버로부터 화면을 렌더 하기 위한 필수적인 요소를 먼저 가져오기 때문에 빠른 초기 로딩
- 모든 데이터가 이미 HTML에 담겨진 채로 브라우저에 전달되기 때문에 검색엔진 최적화에 유리

### 단점

- 매번 페이지를 요청할 때마다 새로 고침 → 사용자 경험이 떨어짐
- 페이지를 구성하는 모든 리소스를 준비해서 응답하므로 서버 부담이 증가

[https://miracleground.tistory.com/entry/SSR서버사이드-렌더링과-CSR클라이언트-사이드-렌더링](https://miracleground.tistory.com/entry/SSR%EC%84%9C%EB%B2%84%EC%82%AC%EC%9D%B4%EB%93%9C-%EB%A0%8C%EB%8D%94%EB%A7%81%EA%B3%BC-CSR%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EC%82%AC%EC%9D%B4%EB%93%9C-%EB%A0%8C%EB%8D%94%EB%A7%81)

## 네이티브 앱 & 웹 앱 & 하이브리드 앱

### ****네이티브 앱 (Native App)****

모바일 기기에 최적화된 언어로 개발된 앱

### **장점**

- 성능이 웹앱, 하이브리드 앱에 비해 가장 높음
- 네이티브 API를 호출하여 사용함으로 플랫폼과 밀착되어있음
- Java나 Swift에 익숙한 사용자면 쉽게 접근 가능함

### **단점**

- 플랫폼에 한정적
- 언어에 제약적

---

### ****모바일 웹 앱 (Mobile Wep App)****

모바일웹 + 네이티브 앱을 결합한 형태

### **장점**

- 웹 사이트를 보는 것이므로 따로 설치할 필요X
- 모든 기기와 브라우저에서 접근 가능
- 별도 설치 및 승인 과정이 필요치 않아 유지보수에 용이

### **단점**

- 플랫폼 API 사용 불가능. 오로지 브라우저 API만 사용가능
- 친화적 터치 앱을 개발하기 약간 번거로움
- 네이티브, 하이브리드 앱보다 실행 까다로움 (브라우저 열거 검색해서 들어가야함)

---

### ****하이브리드 앱 (Hybrid App)****

네이티브 웹에, 웹 view를 띄워 웹앱을 실행

### **장점**

- 네이티브 API, 브라우저 API를 모두 활용한 다양한 개발 가능
- 웹 개발 기술로 앱 개발 가능
- 한번의 개발로 다수 플랫폼에서 사용 가능

### **단점**

- 네이티브 기능 접근 위해 개발 지식 필요
- UI 프레임도구 사용안하면 개발자가 직접 UI 제작

[https://gyoogle.dev/blog/web-knowledge/네이티브 앱 & 웹 앱 & 하이브리드 앱.html](https://gyoogle.dev/blog/web-knowledge/%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C%20%EC%95%B1%20&%20%EC%9B%B9%20%EC%95%B1%20&%20%ED%95%98%EC%9D%B4%EB%B8%8C%EB%A6%AC%EB%93%9C%20%EC%95%B1.html)

## Vue.js와 React

### **react는 UI 라이브러리**

### **Vue는 프레임워크**

| Vue.js | React |
| --- | --- |
| 프레임워크
- 프레임 워크가 지원해주는 문법에 따라 작성 | UI 라이브러리
- 라이브러리의 일부분만 가져와서 사용
- 리액트 자체만으로는 전역 상태 관리, 라우팅, 빌드 시스템 등을 지원하지 않아
- 라이브러리를 통해 Redux, Recoil, React-router-dom 등을 사용 |
| - HTML, JS, CSS 코드 영역을 분리해서 작성
- ". vue"에서 <template>에 HTML 작성 영역, <script> 안에는 JS, <style> 안에 CSS를 작성 | - JSX(JavaScript XML) 형태로 코드를 작성
- JavaScript만으로 UI 로직과 DOM을 구현 |
| 뷰는 정해진 방법만 사용하기 때문에 자유도가 낮지만 그만큼 코드 작성에 있어서 용이 | 리액트는 뷰에 비해 자유롭게 자바스크립트를 통해 코드를 구현 |
| 데이터 객체를 생성한 이후 data를 업데이트 | state 객체를 만들고 업데이트 |

[https://nyol.tistory.com/148](https://nyol.tistory.com/148)

## PWA(Progressive Web App)

웹의 장점과 앱의 장점을 결합한 환경

- 앱 수준과 같은 사용자 경험을 웹에서 제공하는 것이 목적
- 웹 주소만 있다면, 누구나 접근하여 사용이 가능하고 스마트폰의 저장공간을 잡아 먹지 않음
- **서비스 작업자(Service Worker) API** : 웹앱의 중요한 부분을 캐싱하여 사용자가 다음에 열 때 빠르게 로딩할 수 있도록 도와줌

→ 네트워크 환경이 좋지 않아도 빠르게 구동되며, 사용자에게 푸시 알림을 보낼 수도 있음

### **PWA 제공 기능**

- **프로그래시브** : 점진적 개선을 통해 작성되서 어떤 브라우저든 상관없이 모든 사용자에게 적합
- **반응형** : 데스크톱, 모바일, 테블릿 등 모든 폼 factor에 맞음
- **연결 독립적** : 서비스 워커를 사용해 오프라인에서도 작동이 가능함
- **안전** : HTTPS를 통해 제공이 되므로 스누핑이 차단되어 콘텐츠가 변조되지 않음
- **검색 가능** : W3C 매니페스트 및 서비스 워커 등록 범위 덕분에 '앱'으로 식별되어 검색이 가능함
- **재참여 가능** : 푸시 알림과 같은 기능을 통해 쉽게 재참여가 가능함

[https://gyoogle.dev/blog/web-knowledge/PWA.html](https://gyoogle.dev/blog/web-knowledge/PWA.html)

## CSRF & XSS

### CSRF(Cross Site Request Forgery)

사용자가 자신의 의지와는 무관하게 공격자가 의도한 행위를 특정한 웹사이트에 request하도록 만드는 공격

- 유저의 권한을 도용해 중요한 기능 실행
- 사용자의 SNS 계정으로 광고성 글 작성
    - 사용자가 해커가 만든 피싱 사이트에 접속한 경우
    - 위조 요청을 전송하는 서비스에 사용자가 로그인을 한 상황

****대응 기법****

- ****리퍼러(Refferer) 검증: Refferer 검증을 통해 승인된 도메인으로 요청시에만 처리****
- ****Security Token 사용: 사용자의 세션에 임의의 난수 값을 저장하고, 사용자의 요청시 해당 값을 포함하여 전송시킨다.****

### ****XSS****

권한이 없는 사용자가 웹 사이트에 스크립트를 삽입하는 공격 기법

악의적으로 스크립트를 삽입하여 이를 열람한 사용자의 쿠키가 해커에게 전송시키며, 이 탈취한 쿠키를 통해 세션 하이재킹 공격

****대응 기법****

- ****입출력 값 검증****
- ****XSS 방어 라이브러리, 확장앱****
- ****웹 방화벽****
- ****CORS, SOP 설정****

[https://gyoogle.dev/blog/web-knowledge/CSRF & XSS.html](https://gyoogle.dev/blog/web-knowledge/CSRF%20&%20XSS.html)